# 資格種別変更スクリプト 実行手順

このドキュメントでは、ベビーマッサージ関連の資格を「ベビマ」に一括変更するスクリプトの実行方法を説明します。

## 準備

1. 必要なパッケージをインストールします：

```bash
npm install firebase dotenv
```

2. `.env.local` ファイルに管理者アカウントの認証情報を追加します：

```
# 既存の設定に以下を追加
FIREBASE_ADMIN_EMAIL=管理者のメールアドレス
FIREBASE_ADMIN_PASSWORD=管理者のパスワード
```

> ⚠️ **セキュリティ上の注意**: 
> - この方法は一時的な使用のみを想定しています
> - スクリプト実行後は、パスワードを含む環境変数を削除してください
> - GitHubなどにパスワードを含む設定をアップロードしないでください

## 実行方法

以下のいずれかの方法でスクリプトを実行できます：

### 方法1: 環境変数を使用（推奨）

1. 上記の手順で `.env.local` に認証情報を追加
2. スクリプトを実行：

```bash
node update-members.js
```

### 方法2: コマンドライン引数を使用

```bash
node update-members.js メールアドレス パスワード
```

## 実行結果

スクリプトは以下の処理を行います：

1. Firebaseに管理者として認証
2. 会員データの取得
3. 以下の資格種別を「ベビマ」に変換：
   - ベビーマッサージマスター
   - ベビーマッサージインストラクター
   - ベビーマッサージ
4. 変換結果のログ出力

## トラブルシューティング

認証エラーが発生する場合、以下を確認してください：

- 管理者アカウントのメールアドレスとパスワードが正しいか
- Firebaseプロジェクトの認証設定でメール/パスワード認証が有効になっているか
- Firebase Firestore のセキュリティルールが適切に設定されているか

## 変更後の確認

スクリプト実行後、会員一覧ページで以下を確認してください：

1. 「ベビーマッサージ」関連の資格が「ベビマ」に変更されていること
2. 資格種別フィルタが新しい5つの種別（ベビマ、ベビーヨガ、ベビー発育、インストラクター、マスター）に更新されていること

新規登録ページでも新しい資格種別が選択できることを確認してください。 